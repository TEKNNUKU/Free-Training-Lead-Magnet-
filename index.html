<button id="test">TEST FIRESTORE WRITE</button>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
import { getFirestore, addDoc, collection } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyAUYkQ5wA3ncNqNvCkJFfqLkrLwolx632k",
  authDomain: "gated-video-landing-page.firebaseapp.com",
  projectId: "gated-video-landing-page",
  storageBucket: "gated-video-landing-page.firebasestorage.app",
  messagingSenderId: "942723264796",
  appId: "1:942723264796:web:95f20f94f88af0147d8ad9",
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

document.getElementById("test").onclick = async ()=>{
  try {
    await addDoc(collection(db,"leads"),{
      email: "test@test.com",
      phone: "+2348012345678"
    });
    alert("✅ FIRESTORE WRITE SUCCESS");
  } catch(err){
    console.error(err);
    alert("❌ WRITE FAILED");
  }
}
</script>
